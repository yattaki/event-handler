var EventHandler=function(){"use strict";return class{constructor(){this._map=new Map}addEventListener(t,e,s={}){let n=this._map.get(t);n||(n=[],this._map.set(t,n));let i=!0;for(const t of n)if(t.listener===e){t.options=s,i=!1;break}return i&&n.push({listener:e,options:s}),i}removeEventListener(t,e){const s=this._map.get(t);if(s){let t=0;for(const n of s){if(n.listener===e)return s.splice(t,1),!0;t++}}return!1}async dispatchEvent(t,e={}){const s=[],n=this._map.get(t);if(n)for(const{listener:i,options:r}of[...n]){const n=i({type:t,target:this,data:{...r.data||{},...e}});s.push(n),r.once&&this.removeEventListener(t,i),r.wait&&await n}await Promise.all(s)}}}();
//# sourceMappingURL=index.iife.min.js.map
