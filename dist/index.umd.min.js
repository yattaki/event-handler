!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).EventHandler=e()}(this,(function(){"use strict";return class{constructor(){this._map=new Map}addEventListener(t,e,n={}){let s=this._map.get(t);s||(s=[],this._map.set(t,s));let i=!0;for(const t of s)if(t.listener===e){t.options=n,i=!1;break}return i&&s.push({listener:e,options:n}),i}removeEventListener(t,e){const n=this._map.get(t);if(n){let t=0;for(const s of n){if(s.listener===e)return n.splice(t,1),!0;t++}}return!1}async dispatchEvent(t,e={}){const n=[],s=this._map.get(t);if(s)for(const{listener:i,options:o}of[...s]){const s=i({type:t,target:this,data:{...o.data||{},...e}});n.push(s),o.once&&this.removeEventListener(t,i),o.wait&&await s}await Promise.all(n)}}}));
//# sourceMappingURL=index.umd.min.js.map
